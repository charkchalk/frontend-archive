<div class="flex flex-col lg:flex-row lg:space-x-2">
  <mat-form-field>
    <mat-label>過濾項</mat-label>
    <mat-select
      (valueChange)="changed.emit($event)"
      [value]="filter?.getFactory()"
    >
      <mat-option *ngFor="let factory of filterFactories" [value]="factory">
        {{ factory.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="lg:w-20">
    <mat-label>比對方式</mat-label>
    <mat-select [(ngModel)]="compareOption" [disabled]="!filter">
      <mat-option
        *ngFor="let compareOptions of filter?.selectableCompareOptions"
        [value]="compareOptions"
      >
        {{ compareOptions.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div class="grow">
    <app-text-content-input
      *ngIf="filter?.type === 'text'"
      [filter]="filter"
    ></app-text-content-input>
    <app-select-content-input
      *ngIf="filter?.type === 'select'"
      [filter]="filter"
    ></app-select-content-input>
  </div>

  <button
    mat-icon-button
    class="h-fit self-center"
    color="warn"
    aria-label="刪除條件"
    (click)="removed.emit()"
  >
    <mat-icon>delete_forever</mat-icon>
  </button>
</div>
