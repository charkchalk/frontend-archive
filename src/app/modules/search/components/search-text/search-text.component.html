<label class="relative block">
  <input
    matInput
    class="block w-full rounded-full border border-slate-300 bg-white py-2 pr-9 pl-3 shadow-sm placeholder:italic placeholder:text-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:border-slate-200 disabled:bg-slate-50 disabled:text-slate-500 disabled:shadow-none sm:text-sm"
    [ngClass]="{
      'border-red-500': formControl.invalid,
      'text-red-600': formControl.invalid,
      'focus:border-agRed-500': formControl.invalid,
      'focus:ring-agRed-500': formControl.invalid
    }"
    placeholder="請輸入關鍵字或搜尋條件，如 teacher==兔田佩可拉,櫻巫女;時間!=1-1~1-4,2-1~2-4"
    type="text"
    autofocus
    [formControl]="formControl"
  />
  <button
    class="absolute inset-y-0 right-0 flex items-center rounded-full bg-transparent p-2 hover:bg-indigo-500 hover:text-white"
    matTooltip="切換搜尋幫手"
    (click)="toggleSearchHelper()"
  >
    <mat-icon class="h-5 w-5 fill-slate-300">
      {{ formControl.disabled ? "remove" : "add" }}
    </mat-icon>
  </button>
</label>
<span *ngIf="formControl.invalid" class="text-mRed-600">
  <ng-container *ngIf="formControl.hasError('invalidKey')">
    {{ formControl.getError("invalidKey") }} 不是有效的過濾項
  </ng-container>
  <ng-container *ngIf="formControl.hasError('invalidValue')">
    {{ formControl.getError("invalidValue").key }} 中的
    {{ formControl.getError("invalidValue").value }} 不是有效的過濾值
  </ng-container>
</span>
